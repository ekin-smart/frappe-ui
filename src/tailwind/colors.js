let lightModeColors = {
  gray: {
    50: '250 251 252',
    100: '244 245 247',
    200: '235 236 240',
    300: '223 225 230',
    400: '179 186 197',
    500: '137 147 164',
    600: '107 119 140',
    700: '80 95 121',
    800: '52 69 99',
    900: '23 43 77',
  },
  blue: {
    50: '222 235 255',
    100: '179 212 255',
    200: '76 154 255',
    300: '38 132 255',
    400: '0 101 255',
    500: '0 82 204',
    600: '7 71 166',
    700: '12 102 228',
    800: '9 50 108',
    900: '9 30 66',
  },
  amber: {
    50: '255 240 179',
    100: '255 227 128',
    200: '255 196 0',
    300: '255 171 0',
    400: '255 153 31',
    500: '255 139 0',
    600: '255 153 31',
    700: '227 120 0',
    800: '179 89 0',
    900: '122 68 0',
  },
  cyan: {
    50: '230 252 255',
    100: '179 245 255',
    200: '121 226 242',
    300: '0 199 230',
    400: '0 184 217',
    500: '0 163 191',
    600: '0 141 166',
    700: '0 117 143',
    800: '0 94 115',
    900: '22 69 85',
  },
  green: {
    50: '227 252 239',
    100: '171 245 209',
    200: '121 242 192',
    300: '87 217 163',
    400: '54 179 126',
    500: '0 135 90',
    600: '0 102 68',
    700: '0 135 90',
    800: '5 92 63',
    900: '22 75 53',
  },
  orange: {
    50: '255 235 230',
    100: '255 189 173',
    200: '255 143 115',
    300: '255 116 82',
    400: '255 86 48',
    500: '255 86 48',
    600: '222 53 11',
    700: '191 38 0',
    800: '164 29 0',
    900: '122 23 5',
  },
  pink: {
    50: '255 236 248',
    100: '253 208 236',
    200: '255 213 240',
    300: '249 185 224',
    400: '246 167 214',
    500: '227 74 166',
    600: '207 58 150',
    700: '156 38 113',
    800: '80 37 63',
    900: '61 31 49',
  },
  purple: {
    50: '234 230 255',
    100: '192 182 242',
    200: '153 141 217',
    300: '135 119 217',
    400: '101 84 192',
    500: '82 67 170',
    600: '64 50 148',
    700: '53 44 126',
    800: '43 31 92',
    900: '29 20 71',
  },
  red: {
    50: '255 235 230',
    100: '255 189 173',
    200: '255 143 115',
    300: '255 116 82',
    400: '255 86 48',
    500: '222 53 11',
    600: '191 38 0',
    700: '222 53 11',
    800: '164 29 0',
    900: '122 23 5',
  },
  teal: {
    50: '230 252 255',
    100: '179 245 255',
    200: '121 226 242',
    300: '0 199 230',
    400: '0 184 217',
    500: '0 163 191',
    600: '0 141 166',
    700: '0 117 143',
    800: '0 94 115',
    900: '22 69 85',
  },
  violet: {
    50: '234 230 255',
    100: '192 182 242',
    200: '153 141 217',
    300: '135 119 217',
    400: '101 84 192',
    500: '82 67 170',
    600: '64 50 148',
    700: '53 44 126',
    800: '43 31 92',
    900: '29 20 71',
  },
  yellow: {
    50: '255 247 214',
    100: '255 240 179',
    200: '255 227 128',
    300: '255 196 0',
    400: '255 171 0',
    500: '255 153 31',
    600: '255 139 0',
    700: '227 120 0',
    800: '179 89 0',
    900: '122 68 0',
  },
}

let darkModeColors = {
  gray: {
    50: '255 255 255',
    100: '182 194 207',
    200: '159 173 188',
    250: '137 147 164',
    300: '115 132 150',
    400: '98 111 134',
    500: '80 95 121',
    600: '62 76 89',
    650: '44 51 58',
    700: '34 39 43',
    800: '29 33 37',
    900: '16 18 20',
  },
  blue: {
    50: '233 242 255',
    100: '204 224 255',
    200: '133 184 255',
    300: '87 157 255',
    400: '56 139 255',
    500: '29 122 252',
    600: '12 102 228',
    700: '0 85 204',
    800: '9 50 108',
    900: '9 41 87',
  },
  amber: {
    50: '255 247 214',
    100: '248 230 160',
    200: '245 205 71',
    300: '226 178 3',
    400: '207 159 2',
    500: '179 134 0',
    600: '148 111 0',
    700: '127 95 1',
    800: '83 63 4',
    900: '61 46 0',
  },
  cyan: {
    50: '198 237 251',
    100: '157 217 238',
    200: '108 195 224',
    300: '55 180 195',
    400: '29 154 170',
    500: '29 127 140',
    600: '32 107 116',
    700: '29 84 96',
    800: '21 59 68',
    900: '14 43 50',
  },
  green: {
    50: '223 252 240',
    100: '186 243 219',
    200: '126 226 184',
    300: '75 206 151',
    400: '42 187 127',
    500: '34 160 107',
    600: '31 132 74',
    700: '33 110 78',
    800: '22 75 53',
    900: '19 53 39',
  },
  orange: {
    50: '255 236 235',
    100: '255 213 210',
    200: '253 152 145',
    300: '248 113 104',
    400: '241 91 80',
    500: '226 72 61',
    600: '201 55 44',
    700: '174 46 36',
    800: '93 31 26',
    900: '66 34 31',
  },
  pink: {
    50: '253 208 236',
    100: '247 151 210',
    200: '231 116 187',
    300: '218 98 172',
    400: '205 81 157',
    500: '174 71 135',
    600: '148 61 115',
    700: '80 37 63',
    800: '61 31 49',
    900: '46 23 38',
  },
  purple: {
    50: '243 240 255',
    100: '223 216 253',
    200: '184 172 246',
    300: '159 143 239',
    400: '143 126 231',
    500: '130 112 219',
    600: '110 93 198',
    700: '94 77 178',
    800: '53 44 99',
    900: '43 39 63',
  },
  red: {
    50: '255 236 235',
    100: '255 213 210',
    200: '253 152 145',
    300: '248 113 104',
    400: '241 91 80',
    500: '226 72 61',
    600: '201 55 44',
    700: '174 46 36',
    800: '93 31 26',
    900: '66 34 31',
  },
  teal: {
    50: '198 237 251',
    100: '157 217 238',
    200: '108 195 224',
    300: '55 180 195',
    400: '29 154 170',
    500: '29 127 140',
    600: '32 107 116',
    700: '29 84 96',
    800: '21 59 68',
    900: '14 43 50',
  },
  violet: {
    50: '243 240 255',
    100: '223 216 253',
    200: '184 172 246',
    300: '159 143 239',
    400: '143 126 231',
    500: '130 112 219',
    600: '110 93 198',
    700: '94 77 178',
    800: '53 44 99',
    900: '43 39 63',
  },
  yellow: {
    50: '255 247 214',
    100: '248 230 160',
    200: '245 205 71',
    300: '226 178 3',
    400: '207 159 2',
    500: '179 134 0',
    600: '148 111 0',
    700: '127 95 1',
    800: '83 63 4',
    900: '61 46 0',
  },
}

const neutralColors = {
  black: '0 0 0',
  white: '255 255 255',
}

const whiteOverlay = {
  50: '255 255 255 / 0.08',
  100: '255 255 255 / 0.16',
  200: '255 255 255 / 0.24',
  300: '255 255 255 / 0.32',
  400: '255 255 255 / 0.40',
  500: '255 255 255 / 0.48',
  600: '255 255 255 / 0.56',
  700: '255 255 255 / 0.64',
  800: '255 255 255 / 0.72',
  900: '255 255 255 / 0.80',
}

const blackOverlay = {
  50: '0 0 0 / 0.08',
  100: '0 0 0 / 0.16',
  200: '0 0 0 / 0.24',
  300: '0 0 0 / 0.32',
  400: '0 0 0 / 0.40',
  500: '0 0 0 / 0.48',
  600: '0 0 0 / 0.56',
  700: '0 0 0 / 0.64',
  800: '0 0 0 / 0.72',
  900: '0 0 0 / 0.80',
}

function withOpacity(color) {
  return ({ opacityValue }) => {
    if (opacityValue !== undefined && !color.includes('/')) {
      return `rgb(${color} / ${opacityValue})`
    }
    return `rgb(${color})`
  }
}

function getDefaultColorMap(color) {
  let defaultColors = lightModeColors
  let obj = {}
  let keys = [
    '50',
    '100',
    '200',
    '300',
    '400',
    '500',
    '600',
    '700',
    '800',
    '900',
  ]
  keys.forEach((key) => {
    let rgbString = defaultColors[color][key]
    if (color) {
      obj[key] = withOpacity(rgbString)
    }
  })
  return obj
}

function themedCssVariables() {
  return {
    ':root': {
      '--outline-amber-1': lightModeColors.amber[200],
      '--outline-amber-2': lightModeColors.amber[400],
      '--outline-blue-1': lightModeColors.blue[300],
      '--outline-blue-2': lightModeColors.blue[500],
      '--outline-gray-1': lightModeColors.gray[200],
      '--outline-gray-2': lightModeColors.gray[300],
      '--outline-gray-3': lightModeColors.gray[400],
      '--outline-gray-4': lightModeColors.gray[500],
      '--outline-gray-5': lightModeColors.gray[800],
      '--outline-gray-modals': lightModeColors.gray[200],
      '--outline-green-1': lightModeColors.green[300],
      '--outline-green-2': lightModeColors.green[400],
      '--outline-orange-1': lightModeColors.orange[400],
      '--outline-red-1': lightModeColors.red[200],
      '--outline-red-2': lightModeColors.red[300],
      '--outline-red-3': lightModeColors.red[400],
      '--outline-red-4': lightModeColors.red[500],
      '--outline-white': neutralColors.white,
      '--surface-amber-1': lightModeColors.amber[100],
      '--surface-amber-2': lightModeColors.amber[600],
      '--surface-blue-1': lightModeColors.blue[100],
      '--surface-blue-2': lightModeColors.blue[500],
      '--surface-cards': neutralColors.white,
      '--surface-cyan-1': lightModeColors.cyan[100],
      '--surface-gray-1': lightModeColors.gray[50],
      '--surface-gray-2': lightModeColors.gray[100],
      '--surface-gray-3': lightModeColors.gray[200],
      '--surface-gray-4': lightModeColors.gray[300],
      '--surface-gray-5': lightModeColors.gray[700],
      '--surface-gray-6': lightModeColors.gray[800],
      '--surface-gray-7': lightModeColors.gray[900],
      '--surface-green-1': lightModeColors.green[50],
      '--surface-green-2': lightModeColors.green[100],
      '--surface-green-3': lightModeColors.green[600],
      '--surface-menu-bar': lightModeColors.gray[50],
      '--surface-modal': neutralColors.white,
      '--surface-orange-1': lightModeColors.orange[100],
      '--surface-pink-1': lightModeColors.pink[100],
      '--surface-red-1': lightModeColors.red[100],
      '--surface-red-2': lightModeColors.red[200],
      '--surface-red-3': lightModeColors.red[300],
      '--surface-red-4': lightModeColors.red[600],
      '--surface-red-5': lightModeColors.red[700],
      '--surface-red-6': lightModeColors.red[800],
      '--surface-selected': neutralColors.white,
      '--surface-violet-1': lightModeColors.violet[100],
      '--surface-white': neutralColors.white,
      '--text-ink-amber-1': lightModeColors.amber[100],
      '--text-ink-amber-2': lightModeColors.amber[500],
      '--text-ink-amber-3': lightModeColors.amber[600],
      '--text-ink-blue-1': lightModeColors.blue[100],
      '--text-ink-blue-2': lightModeColors.blue[400],
      '--text-ink-blue-3': lightModeColors.blue[600],
      '--text-ink-blue-4': lightModeColors.blue[800],
      '--text-ink-cyan-1': lightModeColors.cyan[500],
      '--text-ink-gray-1': lightModeColors.gray[200],
      '--text-ink-gray-2': lightModeColors.gray[300],
      '--text-ink-gray-3': lightModeColors.gray[400],
      '--text-ink-gray-4': lightModeColors.gray[500],
      '--text-ink-gray-5': lightModeColors.gray[600],
      '--text-ink-gray-6': lightModeColors.gray[700],
      '--text-ink-gray-7': lightModeColors.gray[700],
      '--text-ink-gray-8': lightModeColors.gray[800],
      '--text-ink-gray-9': lightModeColors.gray[900],
      '--text-ink-green-1': lightModeColors.green[50],
      '--text-ink-green-2': lightModeColors.green[600],
      '--text-ink-green-3': lightModeColors.green[800],
      '--text-ink-pink-1': lightModeColors.pink[500],
      '--text-ink-red-1': lightModeColors.red[50],
      '--text-ink-red-2': lightModeColors.red[400],
      '--text-ink-red-3': lightModeColors.red[500],
      '--text-ink-red-4': lightModeColors.red[600],
      '--text-ink-violet-1': lightModeColors.violet[500],
      '--text-ink-white': neutralColors.white,
    },
    "[data-theme='dark']": {
      '--outline-amber-1': darkModeColors.amber[700],
      '--outline-amber-2': darkModeColors.amber[600],
      '--outline-blue-1': darkModeColors.blue[600],
      '--outline-blue-2': darkModeColors.blue[600],
      '--outline-gray-1': darkModeColors.gray[700],
      '--outline-gray-2': darkModeColors.gray[600],
      '--outline-gray-3': darkModeColors.gray[500],
      '--outline-gray-4': darkModeColors.gray[300],
      '--outline-gray-5': darkModeColors.gray[200],
      '--outline-gray-modals': darkModeColors.gray[600],
      '--outline-green-1': darkModeColors.green[700],
      '--outline-green-2': darkModeColors.green[800],
      '--outline-orange-1': darkModeColors.orange[600],
      '--outline-red-1': darkModeColors.red[700],
      '--outline-red-2': darkModeColors.red[800],
      '--outline-red-3': darkModeColors.red[700],
      '--outline-red-4': darkModeColors.red[600],
      '--outline-white': darkModeColors.gray[800],
      '--surface-amber-1': darkModeColors.amber[900],
      '--surface-amber-2': darkModeColors.amber[400],
      '--surface-blue-1': darkModeColors.blue[900],
      '--surface-blue-2': darkModeColors.blue[500],
      '--surface-cards': darkModeColors.gray[800],
      '--surface-cyan-1': darkModeColors.cyan[900],
      '--surface-gray-1': darkModeColors.gray[700],
      '--surface-gray-2': darkModeColors.gray[650],
      '--surface-gray-3': darkModeColors.gray[600],
      '--surface-gray-4': darkModeColors.gray[500],
      '--surface-gray-5': darkModeColors.gray[100],
      '--surface-gray-6': darkModeColors.gray[200],
      '--surface-gray-7': darkModeColors.gray[100],
      '--surface-green-1': darkModeColors.green[900],
      '--surface-green-2': darkModeColors.green[800],
      '--surface-green-3': darkModeColors.green[500],
      '--surface-menu-bar': darkModeColors.gray[900],
      '--surface-modal': darkModeColors.gray[700],
      '--surface-orange-1': `${darkModeColors.orange[900]} / 0.8`,
      '--surface-pink-1': `${darkModeColors.pink[900]} / 0.8`,
      '--surface-red-1': `${darkModeColors.red[900]} / 0.8`,
      '--surface-red-2': `${darkModeColors.red[800]} / 0.9`,
      '--surface-red-3': darkModeColors.red[700],
      '--surface-red-4': darkModeColors.red[400],
      '--surface-red-5': darkModeColors.red[600],
      '--surface-red-6': darkModeColors.red[700],
      '--surface-selected': whiteOverlay[50],
      '--surface-violet-1': darkModeColors.violet[900],
      '--surface-white': darkModeColors.gray[900],
      '--text-ink-amber-1': neutralColors.white,
      '--text-ink-amber-2': darkModeColors.amber[300],
      '--text-ink-amber-3': darkModeColors.amber[400],
      '--text-ink-blue-1': neutralColors.white,
      '--text-ink-blue-2': darkModeColors.blue[500],
      '--text-ink-blue-3': darkModeColors.blue[300],
      '--text-ink-cyan-1': darkModeColors.cyan[300],
      '--text-ink-gray-1': darkModeColors.gray[700],
      '--text-ink-gray-2': darkModeColors.gray[500],
      '--text-ink-gray-3': darkModeColors.gray[400],
      '--text-ink-gray-4': darkModeColors.gray[400],
      '--text-ink-gray-5': darkModeColors.gray[300],
      '--text-ink-gray-6': darkModeColors.gray[250],
      '--text-ink-gray-7': darkModeColors.gray[200],
      '--text-ink-gray-8': darkModeColors.gray[100],
      '--text-ink-gray-9': darkModeColors.gray[50],
      '--text-ink-green-1': neutralColors.white,
      '--text-ink-green-2': darkModeColors.green[400],
      '--text-ink-green-3': darkModeColors.green[200],
      '--text-ink-pink-1': darkModeColors.pink[100],
      '--text-ink-red-1': neutralColors.white,
      '--text-ink-red-2': darkModeColors.red[700],
      '--text-ink-red-3': darkModeColors.red[300],
      '--text-ink-red-4': darkModeColors.red[200],
      '--text-ink-violet-1': darkModeColors.violet[300],
      '--text-ink-white': darkModeColors.gray[900],
    },
  }
}

let semanticColors = {
  // for border color
  outline: {
    'amber-1': withOpacity('var(--outline-amber-1)'),
    'amber-2': withOpacity('var(--outline-amber-2)'),
    'blue-1': withOpacity('var(--outline-blue-1)'),
    'blue-2': withOpacity('var(--outline-blue-2)'),
    'gray-1': withOpacity('var(--outline-gray-1)'),
    'gray-2': withOpacity('var(--outline-gray-2)'),
    'gray-3': withOpacity('var(--outline-gray-3)'),
    'gray-4': withOpacity('var(--outline-gray-4)'),
    'gray-5': withOpacity('var(--outline-gray-5)'),
    'gray-modals': withOpacity('var(--outline-gray-modals)'),
    'green-1': withOpacity('var(--outline-green-1)'),
    'green-2': withOpacity('var(--outline-green-2)'),
    'orange-1': withOpacity('var(--outline-orange-1)'),
    'red-1': withOpacity('var(--outline-red-1)'),
    'red-2': withOpacity('var(--outline-red-2)'),
    'red-3': withOpacity('var(--outline-red-3)'),
    'red-4': withOpacity('var(--outline-red-4)'),
    white: withOpacity('var(--outline-white)'),
  },
  // for background color
  surface: {
    'amber-1': withOpacity('var(--surface-amber-1)'),
    'amber-2': withOpacity('var(--surface-amber-2)'),
    'blue-1': withOpacity('var(--surface-blue-1)'),
    'blue-2': withOpacity('var(--surface-blue-2)'),
    cards: withOpacity('var(--surface-cards)'),
    'cyan-1': withOpacity('var(--surface-cyan-1)'),
    'gray-1': withOpacity('var(--surface-gray-1)'),
    'gray-2': withOpacity('var(--surface-gray-2)'),
    'gray-3': withOpacity('var(--surface-gray-3)'),
    'gray-4': withOpacity('var(--surface-gray-4)'),
    'gray-5': withOpacity('var(--surface-gray-5)'),
    'gray-6': withOpacity('var(--surface-gray-6)'),
    'gray-7': withOpacity('var(--surface-gray-7)'),
    'green-1': withOpacity('var(--surface-green-1)'),
    'green-2': withOpacity('var(--surface-green-2)'),
    'green-3': withOpacity('var(--surface-green-3)'),
    'menu-bar': withOpacity('var(--surface-menu-bar)'),
    modal: withOpacity('var(--surface-modal)'),
    'orange-1': withOpacity('var(--surface-orange-1)'),
    'pink-1': withOpacity('var(--surface-pink-1)'),
    'red-1': withOpacity('var(--surface-red-1)'),
    'red-2': withOpacity('var(--surface-red-2)'),
    'red-3': withOpacity('var(--surface-red-3)'),
    'red-4': withOpacity('var(--surface-red-4)'),
    'red-5': withOpacity('var(--surface-red-5)'),
    'red-6': withOpacity('var(--surface-red-6)'),
    selected: withOpacity('var(--surface-selected)'),
    'violet-1': withOpacity('var(--surface-violet-1)'),
    white: withOpacity('var(--surface-white)'),
  },
  // for text color and svg stroke/fill
  ink: {
    'amber-1': withOpacity('var(--text-ink-amber-1)'),
    'amber-2': withOpacity('var(--text-ink-amber-2)'),
    'amber-3': withOpacity('var(--text-ink-amber-3)'),
    'blue-1': withOpacity('var(--text-ink-blue-1)'),
    'blue-2': withOpacity('var(--text-ink-blue-2)'),
    'blue-3': withOpacity('var(--text-ink-blue-3)'),
    'cyan-1': withOpacity('var(--text-ink-cyan-1)'),
    'gray-1': withOpacity('var(--text-ink-gray-1)'),
    'gray-2': withOpacity('var(--text-ink-gray-2)'),
    'gray-3': withOpacity('var(--text-ink-gray-3)'),
    'gray-4': withOpacity('var(--text-ink-gray-4)'),
    'gray-5': withOpacity('var(--text-ink-gray-5)'),
    'gray-6': withOpacity('var(--text-ink-gray-6)'),
    'gray-7': withOpacity('var(--text-ink-gray-7)'),
    'gray-8': withOpacity('var(--text-ink-gray-8)'),
    'gray-9': withOpacity('var(--text-ink-gray-9)'),
    'green-1': withOpacity('var(--text-ink-green-1)'),
    'green-2': withOpacity('var(--text-ink-green-2)'),
    'green-3': withOpacity('var(--text-ink-green-3)'),
    'pink-1': withOpacity('var(--text-ink-pink-1)'),
    'red-1': withOpacity('var(--text-ink-red-1)'),
    'red-2': withOpacity('var(--text-ink-red-2)'),
    'red-3': withOpacity('var(--text-ink-red-3)'),
    'red-4': withOpacity('var(--text-ink-red-4)'),
    'violet-1': withOpacity('var(--text-ink-violet-1)'),
    white: withOpacity('var(--text-ink-white)'),
  },
}

function colorPalette({ colors }) {
  return {
    inherit: colors.inherit,
    current: colors.current,
    transparent: colors.transparent,
    black: colors.black,
    white: colors.white,
    gray: getDefaultColorMap('gray'),
    blue: getDefaultColorMap('blue'),
    green: getDefaultColorMap('green'),
    red: getDefaultColorMap('red'),
    orange: getDefaultColorMap('orange'),
    yellow: getDefaultColorMap('yellow'),
    teal: getDefaultColorMap('teal'),
    violet: getDefaultColorMap('violet'),
    cyan: getDefaultColorMap('cyan'),
    amber: getDefaultColorMap('amber'),
    pink: getDefaultColorMap('pink'),
    purple: getDefaultColorMap('purple'),
    'white-overlay': (() => {
      let obj = {}
      for (let shade in whiteOverlay) {
        obj[shade] = `rgb(${whiteOverlay[shade]})`
      }
      return obj
    })(),
    'black-overlay': (() => {
      let obj = {}
      for (let shade in blackOverlay) {
        obj[shade] = `rgb(${blackOverlay[shade]})`
      }
      return obj
    })(),
  }
}

module.exports = {
  colorPalette,
  themedCssVariables,
  semanticColors,
}
